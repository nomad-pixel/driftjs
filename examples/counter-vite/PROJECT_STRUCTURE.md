# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Drift Counter Example

## üìÅ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ main.tsx              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–æ—É—Ç–∏–Ω–≥, DI setup
‚îú‚îÄ‚îÄ pages/                # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Async.tsx
‚îÇ   ‚îú‚îÄ‚îÄ AdvancedEffect.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Test.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Context.tsx
‚îÇ   ‚îú‚îÄ‚îÄ NestedContext.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DI.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Services.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ApiService.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ErrorBoundaryExample.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CustomFallback.tsx
‚îÇ   ‚îú‚îÄ‚îÄ NestedErrors.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PortalModal.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PortalTooltip.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PortalNotifications.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PortalFunction.tsx
‚îú‚îÄ‚îÄ components/           # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ BuggyComponent.tsx
‚îÇ   ‚îî‚îÄ‚îÄ AsyncErrorComponent.tsx
‚îî‚îÄ‚îÄ services/             # –°–µ—Ä–≤–∏—Å—ã DI
    ‚îú‚îÄ‚îÄ theme.service.ts
    ‚îú‚îÄ‚îÄ logger.service.ts
    ‚îú‚îÄ‚îÄ counter.service.ts
    ‚îî‚îÄ‚îÄ api.service.ts
```

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### `main.tsx`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DI (provide services)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞
- –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App` —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

### `pages/`
–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

- **Home.tsx** - –ø—Ä–æ—Å—Ç–æ–π —Å—á–µ—Ç—á–∏–∫ —Å computed –∑–Ω–∞—á–µ–Ω–∏–µ–º
- **Async.tsx** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π computed –ø—Ä–∏–º–µ—Ä
- **AdvancedEffect.tsx** - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è effect —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **Test.tsx** - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **Context.tsx** - Context API —Å —Ç–µ–º–æ–π
- **NestedContext.tsx** - –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **DI.tsx** - DI —á–µ—Ä–µ–∑ Context (—Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥)
- **Services.tsx** - DI —Å–∏—Å—Ç–µ–º–∞ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **ApiService.tsx** - –ø—Ä–∏–º–µ—Ä API —Å–µ—Ä–≤–∏—Å–∞
- **ErrorBoundaryExample.tsx** - –±–∞–∑–æ–≤—ã–π ErrorBoundary
- **CustomFallback.tsx** - –∫–∞—Å—Ç–æ–º–Ω—ã–π fallback UI
- **NestedErrors.tsx** - –≤–ª–æ–∂–µ–Ω–Ω—ã–µ ErrorBoundary
- **PortalModal.tsx** - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–µ—Ä–µ–∑ Portal
- **PortalTooltip.tsx** - —Ç—É–ª—Ç–∏–ø —á–µ—Ä–µ–∑ Portal
- **PortalNotifications.tsx** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Portal
- **PortalFunction.tsx** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ createPortal()

### `components/`
–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- **BuggyComponent.tsx** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –æ—à–∏–±–∫–æ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ErrorBoundary
- **AsyncErrorComponent.tsx** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### `services/`
–°–µ—Ä–≤–∏—Å—ã –¥–ª—è DI —Å–∏—Å—Ç–µ–º—ã:

- **theme.service.ts** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
- **logger.service.ts** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **counter.service.ts** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞
- **api.service.ts** - API –∑–∞–ø—Ä–æ—Å—ã

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –≤–µ—â—å
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
4. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–¥
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏

## üöÄ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `src/pages/NewPage.tsx`:
```tsx
import { type FC } from 'drift-spa';

export const NewPage: FC = () => {
  return (
    <div style={{ padding: '1rem' }}>
      <h1>New Page</h1>
      <p>Content here...</p>
    </div>
  );
};
```

2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ `main.tsx`:
```tsx
import { NewPage } from './pages/NewPage';
```

3. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–æ—É—Ç–µ—Ä:
```tsx
const { RouterView, push } = createRouter({
  routes: {
    // ...
    '/new-page': NewPage,
  }
});
```

4. –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é:
```tsx
<a href="/new-page" onClick={(e) => { e.preventDefault(); push('/new-page'); }}>
  New Page
</a>
```

–ì–æ—Ç–æ–≤–æ! üéâ

